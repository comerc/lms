---
name: technical-depth
description: Обеспечивает максимальную техническую глубину (10/10) при описании технических решений. Используйте при создании алгоритмов, архитектурных решений, моделей данных, или сложных технических спецификаций. Активируется при работе с алгоритмами, архитектурой, типами данных.
allowed-tools: []
---

# Техническая глубина (10/10)

## Обзор

Этот навык обеспечивает максимальную техническую глубину при описании технических решений, включая полные модели данных, алгоритмы, регулярные выражения и диаграммы потоков.

## Инструкции

<instructions>
  * ВСЕГДА создавай полные модели данных с актуальными сигнатурами TypeScript (интерфейсы, типы, дженерики)
  * ВСЕГДА описывай алгоритмы пошагово с примерами
  * ВСЕГДА включай регулярные выражения с примерами входных и выходных данных
  * ВСЕГДА создавай диаграммы потоков данных, показывающие точную последовательность операций
  * ВСЕГДА обосновывай архитектурные решения
  * НИКОГДА не оставляй технические детали на усмотрение разработчика
</instructions>

## Требования к технической глубине

### Модели данных

Полные TypeScript интерфейсы с типами и дженериками:

```typescript
interface PaginatedResponse<T> {
  data: T[];
  pagination: {
    page: number;
    pageSize: number;
    total: number;
    totalPages: number;
  };
}

interface User {
  id: number;
  username: string;
  email: string;
  level: number;
  xp: number;
  streak: number;
  createdAt: Date;
  updatedAt: Date;
}
```

### Алгоритмы

Пошаговое описание с примерами:

```
Алгоритм фильтрации пользователей по уровню и XP:

1. Получить список всех пользователей
2. Применить фильтр по уровню (если указан):
   - Если level = 5, оставить только пользователей с level === 5
3. Применить фильтр по XP (если указан):
   - Если minXP = 1000, оставить только пользователей с xp >= 1000
4. Сортировать по XP (по убыванию)
5. Применить пагинацию:
   - Пропустить (page - 1) * pageSize записей
   - Взять pageSize записей

Пример:
Вход: users = [User(level:5, xp:2000), User(level:5, xp:1500), User(level:3, xp:3000)]
Фильтры: level=5, minXP=1000
Выход: [User(level:5, xp:2000), User(level:5, xp:1500)]
```

### Регулярные выражения

С примерами входных и выходных данных:

```typescript
// Парсинг под-лимитов из строки формата "10/20" или "5/10"
const limitRegex = /^(\d+)\/(\d+)$/;

// Примеры:
// Вход: "10/20" → Выход: { current: 10, max: 20 }
// Вход: "5/10" → Выход: { current: 5, max: 10 }
// Вход: "invalid" → Выход: null

function parseLimit(str: string): { current: number; max: number } | null {
  const match = str.match(limitRegex);
  if (!match) return null;
  return {
    current: parseInt(match[1], 10),
    max: parseInt(match[2], 10),
  };
}
```

### Диаграммы потоков данных

Точная последовательность операций:

```
Поток данных при загрузке списка задач:

1. User Action: Открытие страницы задач
   ↓
2. Component: useEffect вызывает fetchTasks()
   ↓
3. API Service: GET /api/tasks?page=1&limit=10
   ↓
4. Backend Handler: Валидация параметров
   ↓
5. Database: SELECT * FROM tasks LIMIT 10 OFFSET 0
   ↓
6. Backend: Формирование ответа { data: [...], pagination: {...} }
   ↓
7. Frontend: Обновление состояния tasks
   ↓
8. Component: Рендер списка задач
```

## Примеры

### Ввод пользователя:

"Создай систему фильтрации задач"

### Ожидаемый вывод:

Полная спецификация с типами, алгоритмом, регулярными выражениями и диаграммой потока данных (как показано выше).
